import{d as x,j as e,B as u,S as f,H as d,au as g,G as h,T as m}from"./index-BlWuX08Q.js";import{h as b}from"./FilterField-CN1gz-Lq.js";import{D as j}from"./DataGrid-4SV2oeVK.js";const E=({values:r})=>{const[t,s]=x.useState(null),n=i=>{s(i.currentTarget)},a=()=>{s(null)},l=!!t;return e.jsxs(u,{sx:{height:"100%"},children:[e.jsx(f,{direction:"row",spacing:1,alignItems:"center",onMouseEnter:n,onMouseLeave:a,sx:{height:"100%"},children:r.map(i=>e.jsx(d,{label:i,size:"small"},i))}),e.jsx(g,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:l,anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:a,disableRestoreFocus:!0,children:e.jsx(h,{container:!0,rowGap:1,columnGap:1,sx:{maxWidth:"300px",padding:2},children:r.map(i=>e.jsx(h,{item:!0,children:e.jsx(d,{label:i,size:"small"})},i))})})]})},v=({children:r})=>{const[t,s]=x.useState(null),n=i=>{s(i.currentTarget)},a=()=>{s(null)},l=!!t;return e.jsxs(u,{sx:{height:"100%"},children:[e.jsx(u,{onMouseEnter:n,onMouseLeave:a,sx:{height:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:r}),e.jsx(g,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:l,anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:a,disableRestoreFocus:!0,children:e.jsx(u,{sx:{maxWidth:"300px",padding:2},children:r})})]})},S=/A[cglmrstu]|B[aehikr]?|C[adeflmnorsu]?|D[bsy]|E[rsu]|F[elmr]?|G[ade]|H[efgos]?|I[nr]?|Kr?|L[airuv]|M[dgnot]|N[abdeiop]?|Os?|P[abdmortu]?|R[abefghnu]|S[bcegimnr]?|T[abcehilm]|U(u[opst])?|V|W|Xe|Yb?|Z[nr]|La\-Lu?|Ac\-Lr?/g,L=/(A[cglmrstu]|B[aehikr]?|C[adeflmnorsu]?|D[bsy]|E[rsu]|F[elmr]?|G[ade]|H[efgos]?|I[nr]?|Kr?|L[airuv]|M[dgnot]|N[abdeiop]?|Os?|P[abdmortu]?|R[abefghnu]|S[bcegimnr]?|T[abcehilm]|U(u[opst])?|V|W|Xe|Yb?|Z[nr]|La\-Lu?|Ac\-Lr?)|(.)/g,C=r=>!r.match(/\(|\)|\*/g)&&!r.match(S)?e.jsx("sub",{children:r}):e.jsx("span",{children:r}),G=({content:r,...t})=>{let s;const n=r.match(L);return s=e.jsx("span",{children:n==null?void 0:n.map((a,l)=>e.jsx("span",{children:C(a)},l))}),e.jsx("span",{...t,children:s})},p=({hasPopover:r,children:t})=>r?e.jsx(v,{children:t}):t,M=r=>r.map(t=>{const{units:s,decimals:n,sigFigs:a,isFormula:l,hasPopover:i,...c}=t;return c.renderHeader=o=>e.jsxs(u,{children:[e.jsx(m,{fontSize:"0.875rem",fontWeight:"bold",children:o.colDef.headerName}),s&&e.jsx(m,{fontSize:"small",color:"grey.700",sx:{position:"absolute",bottom:"4px",left:o.colDef.type!=="number"?0:"auto",right:o.colDef.type==="number"?0:"auto",transform:"translate(0, 0)",zIndex:1e3},children:s})]}),!c.valueFormatter&&c.type==="number"&&(c.valueFormatter=o=>b(o)?!isNaN(o)&&n||n===0?o===0?o:o<1/Math.pow(10,n)?`> ${1/Math.pow(10,n)}`:o.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}):!isNaN(o)&&a?o.toPrecision(a):o.toLocaleString():"-"),c.renderCell||(c.renderCell=o=>Array.isArray(o.value)?e.jsx(E,{values:o.value}):l?e.jsx(p,{hasPopover:i,children:e.jsx(G,{content:o.value})}):e.jsx(p,{hasPopover:i,children:o.formattedValue})),c}),z=({rows:r,columns:t,...s})=>e.jsx(j,{rows:r,columns:M(t),disableColumnSelector:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},sx:{"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"},"& .MuiDataGrid-cell:focus-within":{outline:"none"},"& .MuiDataGrid-overlayWrapper":{minHeight:"4rem"}},...s});export{z as S};
